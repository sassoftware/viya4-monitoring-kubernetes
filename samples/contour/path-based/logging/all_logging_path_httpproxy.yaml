## Sample: contour/path-based-ingress Version: 0.0.1


apiVersion: projectcontour.io/v1
kind: HTTPProxy
metadata:
  name: v4m-logging
spec:
  virtualhost:
    fqdn: logging.host.cluster.example.com
    tls:
      secretName: v4m-ingress-tls-secret
  routes:

#
# OpenSearch Dashboards
#

    - conditions:
      - prefix: /dashboards
      services:
        - name: v4m-osd
          port: 5601
          protocol: tls
      pathRewritePolicy:
        replacePrefix:
        - prefix: /dashboards
          replacement: /

# This sample does NOT make the OpenSearch accessible by default.
# However, you can make it accessible by uncommenting out the approprate section below.
# To do so, remove the double hash marks (##) from each line in the section.


#
# OpenSearch
#

##    - conditions:
##      - prefix: /opensearch
##      services:
##        - name: v4m-search
##          port: 9200
##          protocol: tls
##      pathRewritePolicy:
##        replacePrefix:
##        - prefix: /opensearch
##          replacement: /


